<ion-view>
  <ion-nav-bar class="bar-royal">
	<ion-nav-title class="bar-dark">Maps</ion-nav-title>
    <ion-nav-buttons side="left">
      <button class="button button-icon button-clear ion-navicon" ng-click="toggleLeft()"></button>
    </ion-nav-buttons>
      <ion-nav-buttons side="right" >
        <button class="button button-icon ion-ios-refresh" ng-click="refreshMap()"></button>
        <button class="button button-icon ion-ios-book" ng-click="refreshMap()"></button>
      </ion-nav-buttons>
  </ion-nav-bar>



<ion-content>
      <ui-gmap-google-map center='map.center' zoom='map.zoom' draggable="true" options="'options'">

      <!--
      	<ui-gmap-marker coords="staticMarker.coords" 
                        options="staticMarker.options" 
                        events="staticMarker.events" 
                        idKey="staticMarker.id">
        </ui-gmap-marker>
       --> 
        <ui-gmap-markers models="randomMarkers" 
                         coords="'self'" 
                         options="'options'"
                         icon="'icon'"
                         click="onMarkerClicked"
                         doRebuildAll="true">
                         
              <ui-gmap-windows show="'showWindow'" closeClick="'closeClick'" ng-cloak>
                <div>
                    <p ng-non-bindable>{{text2display}}</p>
                    <p ng-non-bindable>This is an info window at  {{ longitude | number:4 }}!</p>
                    <p class="muted">My marker will stay open when the window is popped up!</p>
                </div>
            </ui-gmap-windows>

          

        </ui-gmap-markers>
      

        <ui-gmap-polyline ng-repeat="p in polylines" 
                          path="p.path" 
                          stroke="p.stroke" 
                          visible='p.visible'
                          geodesic='p.geodesic' 
                          fit="false" 
                          editable="p.editable" 
                          draggable="p.draggable" icons='p.icons'></ui-gmap-polyline>

        <ui-gmap-windows
            idKey="{expression}"
            doRebuildAll="true"
            models="{expression}"

        coords="'{string}'"
        show="'{string}'"
        templateUrl="'{string}'"
        templateParameter="'{string}'"
        isIconVisibleOnClick="'{string}'"
        closeClick="'{string}'"

        options='{string}'

        control='{expression}'
        chunk='{expression}'
        cleanchunk='{expression}'
        doRebuildAll="{string or object}"
        >

</ui-gmap-windows>



      </ui-gmap-google-map>
</ion-content>

<ion-footer-bar class="bar-dark">
      <a ng-click="refreshMap()" class="button button-icon icon ion-navigate">Aggiorna dati</a>
      <a ng-click="refreshMap()" class="button button-icon icon ion-navigate">Solo Pattuglie</a>
      <a ng-click="refreshMap()" class="button button-icon icon ion-navigate">Percorso</a>
</ion-footer-bar>

</ion-view>